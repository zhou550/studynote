## 语言元素



### 编码

默认情况下，Python 3 源码文件以 **UTF-8** 编码，所有字符串都是 unicode 字符串。 当然你也可以为源码文件指定不同的编码：

```
# -*- coding: cp-1252 -*-
```

上述定义允许在源文件中使用 Windows-1252 字符集中的字符编码

### 行与缩进

python最具特色的就是==使用缩进来表示代码块==，不需要使用大括号 **{}** 。

缩进的空格数是可变的，但是同一个代码块的语句必须包含相同的缩进空格数。

实例如下：

```python
if True:
    print ("True")
else:
    print ("False")
```

以下代码最后一行语句缩进数的空格数不一致，会导致运行错误：

```python
if True:
    print ("Answer")
    print ("True")
else:
    print ("Answer")
  print ("False")    # 缩进不一致，会导致运行错误
```

以上程序由于缩进不一致，执行后会出现类似以下错误：

```
 File "test.py", line 6
    print ("False")    # 缩进不一致，会导致运行错误
                                      ^
IndentationError: unindent does not match any outer indentation level
```

==**缩进**可以使用任意数量的空格，但**通常使用4个空格**==，建议大家**不要使用制表键**或者**设置你的代码编辑工具自动将制表键变成4个空格**。

### 多行语句

Python 通常是一行写完一条语句，但如果语句很长，我们可以使用反斜杠(\)来实现多行语句，例如：

```python
total = item_one + \
        item_two + \
        item_three
```

在 [], {}, 或 () 中的多行语句，不需要使用反斜杠(\)，例如：

```
total = ['item_one', 'item_two', 'item_three',
        'item_four', 'item_five']
```

### 注释

#### 单行注释 

以==*#和空格开头*==的部分

#### 多行注释

==三个引号开头，三个引号结尾==

```Python
"""
第一个Python程序 - hello, world!
向伟大的Dennis M. Ritchie先生致敬

"""
print('hello, world!')
# print("你好, 世界！")
```



### 变量

#### 变量类型

Python中的数据类型很多，而且也允许我们自定义新的数据类型（这一点在后面会讲到），我们先介绍几种常用的数据类型。

- 整型：Python中可以处理**任意大小的整数**，而且支持二进制（如`0b100`，换算成十进制是4）、八进制（如`0o100`，换算成十进制是64）、十进制（`100`）和十六进制（`0x100`，换算成十进制是256）的表示法。
- 浮点型：浮点数也就是小数，之所以称为浮点数，是因为按照科学记数法表示时，一个浮点数的小数点位置是可变的，浮点数除了**数学写法**（如`123.456`）之外还支持**科学计数法**（如`1.23456e2`）。
- 字符串型：字符串是以**单引号或双引号括起来的任意文本**，比如`'hello'`和`"hello"`,字符串还有原始字符串表示法、字节字符串表示法、Unicode字符串表示法，而且*可以书写成多行的形式（用三个单引号或三个双引号开头，三个单引号或三个双引号结尾）*。
- 布尔型：**布尔值只有`True`、`False`两种值**，要么是`True`，要么是`False`，在Python中，可以直接用`True`、`False`表示布尔值（请注意大小写），也可以通过布尔运算计算出来（例如`3 < 5`会产生布尔值`True`，而`2 == 1`会产生布尔值`False`）。
- 复数型：**形如`3+5j`**，跟数学上的复数表示一样，唯一不同的是虚部的`i`换成了`j`。实际上，这个类型并不常用，大家了解一下就可以了。

#### 变量命名

- ##### 硬性规则：
  
  - **变量名由字母**（广义的Unicode字符，不包括特殊字符**）、数字和下划线构成，数字不能开头**。
  - **大小写敏感**（大写的`a`和小写的`A`是两个不同的变量）。
  - **不要跟关键字**（有特殊含义的单词，后面会讲到）**和系统保留字**（如函数、模块等的名字）**冲突**。
- PEP 8要求：
  - 用小写字母拼写，多个单词用下划线连接。
  - 受保护的实例属性用单个下划线开头（后面会讲到）。
  - 私有的实例属性用两个下划线开头（后面会讲到）。

当然，作为一个专业的程序员，给变量（事实上应该是所有的标识符）命名时做到**见名知意**也是非常重要的。



#### type函数

在Python中可以使用`type`函数对变量的类型进行检查。

```Python
a = 100
b = 12.345
c = 1 + 5j
d = 'hello, world'
e = True
print(type(a))    # <class 'int'>
print(type(b))    # <class 'float'>
print(type(c))    # <class 'complex'>
print(type(d))    # <class 'str'>
print(type(e))    # <class 'bool'>
```

#### 内置类型转换函数

可以使用Python中内置的函数对变量类型进行转换。

- `int()`：将一个数值或字符串转换成整数，可以指定进制。
- `float()`：将一个字符串转换成浮点数。
- `str()`：将指定的对象转换成字符串形式，可以指定编码。
- `chr()`：将整数转换成该编码对应的字符串（一个字符）。
- `ord()`：将字符串（一个字符）转换成对应的编码（整数）。



### 运算符

Python支持多种运算符，下表大致按照优先级从高到低的顺序列出了所有的运算符

| 描述                           | 运算符                                                       |
| ------------------------------ | ------------------------------------------------------------ |
| ==下标==，==切片==             | `[]` `[:]`                                                   |
| 指数                           | `**`                                                         |
| ==按位取反==, 正负号           | `~` `+` `-`                                                  |
| 乘，除，==模，整除==           | `*` `/` `%` `//`                                             |
| 加，减                         | `+` `-`                                                      |
| 右移，左移                     | `>>` `<<`                                                    |
| 按位与                         | `&`                                                          |
| 按位异或，按位或               | `^` `\|`                                                     |
| 小于等于，小于，大于，大于等于 | `<=` `<` `>` `>=`                                            |
| 等于，不等于                   | `==` `!=`                                                    |
| 身份运算符                     | `is`  `is not`                                               |
| 成员运算符                     | `in` `not in`                                                |
| 逻辑运算符                     | `not` `or` `and`                                             |
| （复合）赋值运算符             | `=` `+=` `-=` `*=` `/=` `%=` `//=` `**=` `&=` `|=` `^=` `>>=` `<<=` |

>**说明：** 在实际开发中，如果搞不清楚运算符的优先级，可以使用括号来确保运算的执行顺序。

#### 赋值运算符

赋值运算符应该是最为常见的运算符，它的作用是将右边的值赋给左边的变量。

```Python
a = 10
print(a)    
```

#### 关系运算符

包括`==`、`!=`、`<`、`>`、`<=`、`>=`，唯一需要提醒的是比较相等用的是`==`，请注意这个地方是两个等号，因为`=`是赋值运算符，我们在上面刚刚讲到过，`==`才是比较相等的比较运算符。比较运算符会产生布尔值，要么是`True`要么是`False`。



#### 逻辑运算符

逻辑运算符有三个，分别是`and`、`or`和`not`。

`and`字面意思是“而且”，所以`and`运算符会连接两个布尔值，如果两个布尔值都是`True`，那么运算的结果就是`True`；左右两边的布尔值有一个是`False`，最终的运算结果就是`False`。相信大家已经想到了，<u>如果`and`左边的布尔值是`False`，不管右边的布尔值是什么，最终的结果都是`False`，所以在做运算的时候右边的值会被跳过（短路处理），这也就意味着在`and`运算符左边为`False`的情况下，右边的表达式根本不会执行</u>。

`or`字面意思是“或者”，所以`or`运算符也会连接两个布尔值，如果两个布尔值有任意一个是`True`，那么最终的结果就是`True`。当然，`or`运算符也是有短路功能的，<u>在它左边的布尔值为`True`的情况下，右边的表达式根本不会执行</u>。

`not`运算符的后面会跟上一个布尔值，它的作用是得到与该布尔值相反的值，也就是说，后面的布尔值如果是`True`运算结果就是`False`，而后面的布尔值如果是`False`则运算结果就是`True`。

```Python
"""
比较运算符和逻辑运算符的使用
"""
flag0 = 1 == 1
flag1 = 3 > 2
flag2 = 2 < 1
flag3 = flag1 and flag2
flag4 = flag1 or flag2
flag5 = not (1 != 2)
print('flag0 =', flag0)    # flag0 = True
print('flag1 =', flag1)    # flag1 = True
print('flag2 =', flag2)    # flag2 = False
print('flag3 =', flag3)    # flag3 = False
print('flag4 =', flag4)    # flag4 = True
print('flag5 =', flag5)    # flag5 = False
```

> **说明**：比较运算符的优先级高于赋值运算符，所以`flag0 = 1 == 1`先做`1 == 1`产生布尔值`True`，再将这个值赋值给变量`flag0`。
>
> `print`函数可以输出多个值，多个值之间可以用`,`进行分隔，输出的内容之间默认以空格分开。

